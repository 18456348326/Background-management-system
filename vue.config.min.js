"use strict";const path=require("path"),defaultSettings=require("./src/settings.js");function resolve(dir){return path.join(__dirname,dir)}const name=defaultSettings.title||"vue Admin Template",port=process.env.port||process.env.npm_config_port||9528;module.exports={publicPath:"/",outputDir:"dist",assetsDir:"static",lintOnSave:"development"===process.env.NODE_ENV,productionSourceMap:!1,devServer:{port:port,open:!0,overlay:{warnings:!1,errors:!0},proxy:{"/dev-api":{target:"http://39.98.123.211",pathRewrite:{"^/dev-api":""}}}},configureWebpack:{name:name,resolve:{alias:{"@":resolve("src")}}},chainWebpack(config){config.plugin("preload").tap(()=>[{rel:"preload",fileBlacklist:[/\.map$/,/hot-update\.js$/,/runtime\..*\.js$/],include:"initial"}]),config.plugins.delete("prefetch"),config.module.rule("svg").exclude.add(resolve("src/icons")).end(),config.module.rule("icons").test(/\.svg$/).include.add(resolve("src/icons")).end().use("svg-sprite-loader").loader("svg-sprite-loader").options({symbolId:"icon-[name]"}).end(),config.when("development"!==process.env.NODE_ENV,config=>{config.plugin("ScriptExtHtmlWebpackPlugin").after("html").use("script-ext-html-webpack-plugin",[{inline:/runtime\..*\.js$/}]).end(),config.optimization.splitChunks({chunks:"all",cacheGroups:{libs:{name:"chunk-libs",test:/[\\/]node_modules[\\/]/,priority:10,chunks:"initial"},elementUI:{name:"chunk-elementUI",priority:20,test:/[\\/]node_modules[\\/]_?element-ui(.*)/},commons:{name:"chunk-commons",test:resolve("src/components"),minChunks:3,priority:5,reuseExistingChunk:!0}}}),config.optimization.runtimeChunk("single")})}};